"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4960],{95899:function(e,n,t){t.d(n,{ER:function(){return f},Kf:function(){return l},Zy:function(){return g},h4:function(){return v},i9:function(){return c},op:function(){return y},pK:function(){return p},tR:function(){return s},u3:function(){return d}});var r=t(5362),i=t(27218),u=t(30947),a=t(13262),o=t(77930);let c="[ANT ONLY] synced_resources.txt";function l(e){let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,{data:u,...o}=(0,r.WE)("/api/organizations/".concat(t,"/projects/").concat(e,"/docs"),{queryKey:[a.zy,{orgUuid:t,projectUuid:e}],enabled:!!n&&!!e});return{data:null==u?void 0:u.filter(e=>{let{file_name:n,content:t}=e;return n.length>0&&t.length>0}).filter(e=>{let{file_name:n}=e;return n!==c}),unfilteredData:u,...o}}let s=e=>{let{projectUuid:n,docUuid:t}=e,{activeOrganization:o}=(0,i.t)(),c=null==o?void 0:o.uuid;return(0,r.WE)("/api/organizations/".concat(c,"/projects/").concat(n,"/docs/").concat(t),{queryKey:[a.tt,{orgUuid:c,projectUuid:n,docUuid:t}],enabled:!!o,staleTime:0,meta:{noToast:e=>e instanceof u.Hx&&404===e.statusCode}})};function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,i.t)(),u=null==t?void 0:t.uuid,c=(0,o.useQueryClient)();return(0,r.uC)(()=>"/api/organizations/".concat(u,"/projects/").concat(e,"/docs"),"POST",{enabled:!!e,onSuccess:function(){for(var t,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];c.invalidateQueries({queryKey:[a.zy,{orgUuid:u,projectUuid:e}]}),c.invalidateQueries({queryKey:[a.VH,{orgUUID:u}]}),null===(t=n.onSuccess)||void 0===t||t.call(n,...i)},onError:function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];null===(e=n.onError)||void 0===e||e.call(n,...r)}})}function f(e){let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,u=(0,o.useQueryClient)();return(0,r.Ne)(n=>"/api/organizations/".concat(t,"/projects/").concat(e,"/docs/").concat(n.docUuid),"DELETE",(e,n)=>n?n.filter(n=>n.uuid!==e.docUuid):n,{queryKey:[a.zy,{orgUuid:t,projectUuid:e}],enabled:!!e,onSuccess:(n,r)=>{u.invalidateQueries({queryKey:[a.tt,{orgUuid:t,projectUuid:e,docUuid:r.docUuid}]}),u.invalidateQueries({queryKey:[a.zy,{orgUuid:t,projectUuid:e}]}),u.invalidateQueries({queryKey:[a.VH,{orgUUID:t}]})}})}let y=e=>{let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,u=(0,o.useQueryClient)();return(0,r.Ne)(()=>"/api/organizations/".concat(t,"/projects/").concat(e,"/docs/delete_many"),"POST",(e,n)=>n?n.filter(n=>!e.doc_uuids.includes(n.uuid)):n,{queryKey:[a.zy,{orgUuid:t,projectUuid:e}],enabled:!!e,onSuccess:(n,r)=>{for(let n of r.doc_uuids)u.invalidateQueries({queryKey:[a.tt,{orgUuid:t,projectUuid:e,docUuid:n}]});u.invalidateQueries({queryKey:[a.zy,{orgUuid:t,projectUuid:e}]}),u.invalidateQueries({queryKey:[a.VH,{orgUUID:t}]})}})};function g(e){let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,u=(0,o.useQueryClient)();return(0,r.Ne)(n=>"/api/organizations/".concat(t,"/projects/").concat(e,"/docs/").concat(n.docUuid),"PUT",(e,n)=>n?n.map(n=>n.uuid===e.docUuid?{...n,...e}:n):n,{queryKey:[a.zy,{orgUuid:t,projectUuid:e}],enabled:!!e,onSuccess:(n,r)=>{u.invalidateQueries({queryKey:[a.tt,{orgUuid:t,projectUuid:e,docUuid:r.docUuid}]}),u.invalidateQueries({queryKey:[a.zy,{orgUuid:t,projectUuid:e}]}),u.invalidateQueries({queryKey:[a.VH,{orgUUID:t}]})}})}function v(e){let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,u=(0,o.useQueryClient)();return(0,r.Ne)(()=>"/api/organizations/".concat(t,"/projects/").concat(e,"/files/delete_many"),"POST",(e,n)=>n?n.filter(n=>!e.file_uuids.includes(n.file_uuid)):n,{queryKey:[a.jb,{orgUuid:t,projectUuid:e}],enabled:!!e,onSuccess:()=>{u.invalidateQueries({queryKey:[a.jb,{orgUuid:t,projectUuid:e}]}),u.invalidateQueries({queryKey:[a.VH,{orgUUID:t}]})}})}function p(e){let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid;return(0,r.WE)("/api/organizations/".concat(t,"/projects/").concat(e,"/files"),{queryKey:[a.jb,{orgUuid:t,projectUuid:e}],enabled:!!n&&!!e})}},92676:function(e,n,t){t.d(n,{AQ:function(){return g},IP:function(){return d},gr:function(){return c},l2:function(){return l},yg:function(){return f},zB:function(){return s}});var r=t(5362),i=t(27218),u=t(13262),a=t(77930),o=t(19132);let c=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,i.t)(),u=null==t?void 0:t.uuid,a=y(),c=(0,o.gb)();return(0,r.uC)(()=>"/api/organizations/".concat(u,"/projects/").concat(e,"/syncs"),"POST",{enabled:!!(t&&e),...n,onSuccess:function(){for(var t,r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];a(e),null===(t=n.onSuccess)||void 0===t||t.call(n,...i)},onError:function(){for(var e,t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];null===(e=n.onError)||void 0===e||e.call(n,...r);let[u,a]=r;c(u,a)}})},l=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,i.t)(),u=null==t?void 0:t.uuid,a=y();return(0,r.uC)(()=>"/api/organizations/".concat(u,"/projects/").concat(e,"/syncs"),"PUT",{enabled:!!(t&&e),...n,onSuccess:function(){for(var t,r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];a(e),null===(t=n.onSuccess)||void 0===t||t.call(n,...i)}})},s=e=>{let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,a=y();return(0,r.Ne)(n=>"/api/organizations/".concat(t,"/projects/").concat(e,"/syncs/").concat(n),"DELETE",(e,n)=>n?n.filter(n=>n.uuid!==e):n,{queryKey:[u.AI,{orgUuid:t,projectUuid:e}],enabled:!!n,onSuccess:()=>{a(e)}})},d=e=>{let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,a=y();return(0,r.Ne)(()=>"/api/organizations/".concat(t,"/projects/").concat(e,"/syncs/delete_many"),"POST",(e,n)=>n?n.filter(n=>!e.sync_source_uuids.includes(n.uuid)):n,{queryKey:[u.AI,{orgUuid:t,projectUuid:e}],enabled:!!n,onSuccess:()=>{a(e)}})},f=e=>{let{activeOrganization:n}=(0,i.t)(),t=null==n?void 0:n.uuid,a=!!(n&&e),{data:c,isLoading:l}=(0,r.WE)("/api/organizations/".concat(t,"/projects/").concat(e,"/syncs"),{queryKey:[u.AI,{orgUuid:t,projectUuid:e}],enabled:a,refetchInterval:e=>{var n;return(null===(n=e.state.data)||void 0===n?void 0:n.some(o.sf))?5e3:3e5}});return{data:c,isLoading:!!a&&l}},y=()=>{let{activeOrganization:e}=(0,i.t)(),n=null==e?void 0:e.uuid,t=(0,a.useQueryClient)();return e=>{t.invalidateQueries({queryKey:[u.AI,{orgUuid:n,projectUuid:e}]}),t.invalidateQueries({queryKey:[u.Xg,{orgUuid:n,projectUuid:e}]})}},g=e=>{let{data:n}=f(e);return!!(null==n?void 0:n.some(o.sf))}},32559:function(e,n,t){t.d(n,{GO:function(){return b},Gm:function(){return z},Kn:function(){return A},O3:function(){return p},Qs:function(){return E},RN:function(){return h},Yc:function(){return S},bQ:function(){return m},cd:function(){return i},dY:function(){return C},iR:function(){return w},nL:function(){return u}});var r,i,u,a=t(28803),o=t(5362),c=t(27218),l=t(30947),s=t(13262),d=t(77930),f=t(21520),y=t.n(f),g=t(7653),v=t(95586);(i||(i={})).Student="student",(r=u||(u={})).Study="study",r.Career="career",r.Research="research";let p=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,c.t)(),t=(0,v.U)(),r=null==n?void 0:n.uuid,i=new URLSearchParams;return i.append("include_harmony_projects","true"),(0,o.WE)("/api/organizations/".concat(r,"/projects?").concat(i.toString()),{queryKey:[s.gi,{orgUuid:r}],enabled:!!(e&&n&&t),select:e=>e.filter(e=>!e.archived_at)})},h=()=>{let{activeOrganization:e}=(0,c.t)(),n=(0,o.OJ)();return(0,g.useCallback)(async()=>(await n("/api/organizations/".concat(null==e?void 0:e.uuid,"/projects"))).json(),[null==e?void 0:e.uuid,n])},m=()=>{let{data:e,isLoading:n}=p();return{data:null==e?void 0:e.filter(e=>e.is_starred),isLoading:n}},_=(e,n)=>{let t=e.map(e=>({...e,lastConversation:null==n?void 0:n.find(n=>n.project_uuid===e.uuid)})).filter(e=>e.lastConversation).sort((e,n)=>new Date(n.lastConversation.created_at).getTime()-new Date(e.lastConversation.created_at).getTime()),r=null==e?void 0:e.filter(e=>!t.find(n=>n.uuid===e.uuid));return[...t,...r]},b=()=>{let e=h(),n=(0,a.Pe)();return(0,g.useCallback)(async()=>{let[t,r]=await Promise.all([e(),n({limit:a.bf})]);return _(t,r)},[n,e])},S=e=>{let{activeOrganization:n}=(0,c.t)(),t=null==n?void 0:n.uuid;return(0,o.WE)("/api/organizations/".concat(t,"/projects/").concat(e),{queryKey:[s.$T,{orgUuid:t,projectUuid:e}],enabled:!!(n&&e),staleTime:0,meta:{noToast:e=>e instanceof l.Hx&&404===e.statusCode}})},E=()=>{let{activeOrganization:e}=(0,c.t)(),n=null==e?void 0:e.uuid,t=(0,d.useQueryClient)();return(0,o.uC)(()=>"/api/organizations/".concat(n,"/projects"),"POST",{onSuccess:()=>{t.invalidateQueries({queryKey:[s.gi,{orgUuid:n}]})}})},C=e=>{let{activeOrganization:n}=(0,c.t)(),t=null==n?void 0:n.uuid,r=z();return(0,o.Ne)(()=>"/api/organizations/".concat(t,"/projects/").concat(e),"PUT",(e,n)=>n?{...n,...e}:void 0,{onSuccess:()=>{r(e)},queryKey:[s.$T,{orgUuid:t,projectUuid:e}]})},w=e=>{let{activeOrganization:n}=(0,c.t)(),t=null==n?void 0:n.uuid;return(0,o.WE)("/api/organizations/".concat(t,"/projects/").concat(e,"/conversations"),{queryKey:[s.lx,{orgUuid:t,projectUuid:e}],enabled:!!n,staleTime:0,select:e=>y()(e,e=>new Date(e.updated_at)).reverse()})},A=()=>{var e,n;let t=p(),r=null===(n=t.data)||void 0===n?void 0:null===(e=n.find(e=>e.is_starter_project))||void 0===e?void 0:e.uuid;return{...t,data:r}},z=()=>{let{activeOrganization:e}=(0,c.t)(),n=null==e?void 0:e.uuid,t=(0,d.useQueryClient)();return e=>{t.invalidateQueries({queryKey:[s.$T,{orgUuid:n,projectUuid:e}]}),t.invalidateQueries({queryKey:[s.gi,{orgUuid:n}]}),t.invalidateQueries({queryKey:[s.lx,{orgUuid:n,projectUuid:e}]})}}},19132:function(e,n,t){t.d(n,{BZ:function(){return b},Bl:function(){return Q},LZ:function(){return S},M1:function(){return h},QD:function(){return D},gb:function(){return z},hJ:function(){return v},j5:function(){return U},sf:function(){return C},tc:function(){return p},te:function(){return x},xm:function(){return w},xn:function(){return m}});var r=t(19170),i=t(5362),u=t(27218),a=t(27895),o=t(30947),c=t(13262),l=t(87033),s=t(10228),d=t(88755),f=t(77930),y=t(81695),g=t(7653);let v=e=>e.type===s.Fg.GITHUB?{sync_source_type:s.Fg.GITHUB,sync_source_config:e.config}:e.type===s.Fg.GDRIVE?{sync_source_type:s.Fg.GDRIVE,sync_source_config:e.config}:null,p=()=>{let{activeOrganization:e}=(0,u.t)(),n=null==e?void 0:e.uuid;return(0,i.WE)("/api/organizations/".concat(n,"/sync/settings"),{queryKey:[c.FU,{orgUUID:n}],enabled:!!e})},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,u.t)(),t=null==n?void 0:n.uuid,r=(0,f.useQueryClient)();return(0,i.Ne)("/api/organizations/".concat(t,"/sync/settings"),"PUT",(e,n)=>{let{type:t,enabled:r}=e;n||(n=[]);let i=n.map(e=>e.type===t?{...e,enabled:r}:e);return i.some(e=>e.type===t)?i:[...n,{type:t,enabled:r}]},{queryKey:[c.FU,{orgUUID:t}],enabled:!!n,onSuccess:async function(){for(var n,i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];await r.invalidateQueries({queryKey:[c.FU,{orgUUID:t}]}),await (null===(n=e.onSuccess)||void 0===n?void 0:n.call(e,...u))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,u.t)(),t=null==n?void 0:n.uuid,r=(0,f.useQueryClient)(),{value:a}=(0,l.FL)("kingfisher_enabled"),{value:o}=(0,l.FL)("apps_use_bananagrams");return(0,i.Ne)("/api/organizations/".concat(t,"/sync/settings/config"),"POST",(e,n)=>{let{type:t,config:r}=e;return n||(n=[]),n.map(e=>e.type===t?{...e,config:{...e.config,...r}}:e)},{queryKey:[c.FU,{orgUUID:t}],enabled:!!(n&&a&&o),onSuccess:async function(){for(var n,i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];await r.invalidateQueries({queryKey:[c.FU,{orgUUID:t}]}),await (null===(n=e.onSuccess)||void 0===n?void 0:n.call(e,...u))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},_=(e,n)=>{let t=new URLSearchParams(Array.from(n.entries()));t.delete(e);let r=t.toString()?"?".concat(t.toString()):"",i=window.location.pathname+r;window.history.replaceState({...window.history.state,as:i,url:i},"",i)},b=e=>{let{callerIdentifier:n,successParam:t,handleOpen:r}=e,i=(0,y.useSearchParams)(),u=(0,g.useRef)(!1);(0,g.useEffect)(()=>{!i.has(t)||u.current||n&&n!==i.get(t)||(u.current=!0,_(t,i),r())},[i,n,r,t])},S=e=>{let{pathname:n,searchParams:t,queryString:r,isClaudeApp:i}=e,u="".concat(n,"?").concat(r),a=t.get("origin");if(a)u=a;else if(i){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,t=n.startsWith("/project/")&&e.test(n.slice(9)),i=n.startsWith("/chat/")&&e.test(n.slice(6));u="claude://claude.ai".concat(t||i||"/new"===n?n:"/new","?").concat(r)}return u},E=e=>[s.co.CREATED,s.co.PENDING,s.co.UPDATING].includes(e),C=e=>E(e.status.state),w=e=>[s.co.FAILED,s.co.UPDATE_FAILED].includes(e.status.state),A=e=>{if(e instanceof o.Hx)return e instanceof o.Hx&&"access_denied"===e.errorCode},z=()=>{let{addError:e}=(0,a.e)(),n=(0,f.useQueryClient)();return(t,r)=>{A(t)&&(e("Please try again. You may need to reconnect with your ".concat(s.hP[r.sync_source_type]," account.")),c.Su.forEach(e=>{n.invalidateQueries({queryKey:[e]})}),n.invalidateQueries({queryKey:[c.cF]}))}},q={[s.Fg.GCAL]:"enabled_foccacia",[s.Fg.GMAIL]:"enabled_sourdough"},K=e=>{let n=e===s.Fg.GCAL||e===s.Fg.GMAIL?"pumpernickel_enabled":"cinnabon_enabled",{value:t}=(0,l.FL)(n);return t},T=e=>{let n=(0,u.Cf)(),{data:t}=p(),r=!!(Array.isArray(t)&&t.find(n=>n.type===e&&n.enabled));return!n||r},x=e=>{let n=(0,u.rW)(),t=T(e);return!!(K(e)&&t&&n)},j=e=>"sfdc"===e?"salesforce":e,D=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:t}=(0,u.t)(),r=null==t?void 0:t.uuid,a=(0,y.useRouter)(),o=(0,y.usePathname)(),c=(0,y.useSearchParams)(),{callerIdentifier:l,handleAuthSuccess:s}=n,v=x(e),p=(0,f.useQueryClient)(),h=(0,d.Q)(),{data:m,isFetched:_}=(0,i.WE)("/api/organizations/".concat(r,"/sync/").concat(j(e),"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:r}],enabled:!!(t&&v)}),E=(0,g.useRef)(!1),{mutate:C}=(0,i.uC)("/api/organizations/".concat(r,"/sync/").concat(j(e),"/auth/start"),"POST",{enabled:!!(t&&v),onSuccess:e=>{a.push(e.redirect_url)}});b({callerIdentifier:l,successParam:"".concat(e,"_success"),handleOpen:()=>null==s?void 0:s(!0)});let{mutate:w}=(0,i.uC)("/api/organizations/".concat(r,"/sync/").concat(j(e),"/auth"),"DELETE",{enabled:!!(t&&v),onSuccess:()=>{p.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUUID:r}]})}});return{isAuthenticated:v&&!!(null==m?void 0:m.is_authenticated),startAuth:()=>{if(!E.current&&v){let n=S({pathname:o,searchParams:c,queryString:"".concat(e,"_success=").concat(l),isClaudeApp:h});if(h){window.open("/settings/profile?open_in_browser=1&auth_start=".concat(e,"&origin=").concat(n));return}E.current=!0,C({pre_auth_state:{origin:n},redirect_uri:new URL("/connect/".concat(j(e),"/callback"),window.location.origin).toString()})}},disconnect:w,isFetched:_}},U=(e,n)=>{var t,r;let i=x(e),{account:a}=(0,u.t)(),o=q[e];return o?i&&(n?!!(null==n?void 0:null===(t=n.conversationSettings)||void 0===t?void 0:t[o]):!!(null==a?void 0:null===(r=a.settings)||void 0===r?void 0:r[o])):i},Q=()=>{let{account:e}=(0,u.t)(),{mutate:n}=(0,r.Ck)();return{toggleIntegrationEnabled:(t,r)=>{if(!e)return;let i=q[t];i&&n({...e.settings,[i]:r})}}}},95586:function(e,n,t){t.d(n,{H:function(){return a},U:function(){return u}});var r=t(27218),i=t(58183);let u=()=>{let e=(0,r.ZJ)(),n=(0,r.ue)(),t=(0,r.Cf)();return(0,i.useDynamicConfig)("claude_ai_projects_limits").get("max_free_projects",0)>0||t||e||n},a=()=>{let e=(0,r.ZJ)(),n=(0,r.ue)(),t=(0,r.Cf)(),u=(0,i.useDynamicConfig)("claude_ai_projects_limits");if(!e&&!t&&!n)return u.get("max_free_projects",0)}},22534:function(e,n,t){t.d(n,{F7:function(){return a},MU:function(){return u},ZZ:function(){return o}});let r="recentDriveDocs";function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.uri&&("string"==typeof e.title||void 0===e.title)}function u(e){localStorage.setItem(r,JSON.stringify(e))}function a(){let e=localStorage.getItem(r);if(e){let n=JSON.parse(e);if(n&&Array.isArray(n)&&n.every(i))return n}return[]}function o(e){let n=a();u(n=n.filter(n=>n.uri!==e))}},27895:function(e,n,t){t.d(n,{ErrorsProvider:function(){return m},e:function(){return _},v:function(){return E}});var r=t(27573),i=t(35228),u=t(87033),a=t(97975),o=t.n(a),c=t(55854),l=t.n(c),s=t(78646),d=t.n(s),f=t(81695),y=t(7653),g=t(41270),v=t(27218),p=t(18013);let h=(0,y.createContext)(void 0);function m(e){let{children:n}=e,t=(0,y.useRef)(1),[i,u]=(0,y.useState)([]),a=(0,y.useCallback)(e=>{u(n=>n.filter(n=>n.id!==e))},[]),o=(0,y.useCallback)((e,n)=>{let r=t.current++;return u(n=>[...n,{id:r,message:e instanceof Error?e.message:e,toastType:"error"}]),n&&setTimeout(()=>a(r),n),r},[a]),c=(0,y.useCallback)((e,n)=>{let r=t.current++;return u(n=>[...n,{id:r,message:e,toastType:"success"}]),n&&setTimeout(()=>a(r),n),r},[a]),l=(0,y.useMemo)(()=>({toasts:i,addError:o,addSuccess:c,clearToast:a}),[i,o,c,a]);return(0,r.jsx)(h.Provider,{value:l,children:n})}function _(){let e=(0,y.useContext)(h);if(!e)throw Error("Must be called within ErrorsProvider");return e}let b=g.z.object({id:g.z.string().optional().nullable(),title:g.z.string().optional().nullable(),message:g.z.string().optional().nullable(),displayFrequencyHours:g.z.number().optional().nullable()}),S={};function E(){var e;let{id:n,title:t,message:r,displayFrequencyHours:a}=(0,u.xQ)("claude_system_message",S,b),{account:c}=(0,v.t)(),s=null!==(e=null==c?void 0:c.uuid)&&void 0!==e?e:"logged-out",g=(0,f.usePathname)(),[h,m]=(0,p.R)("dismissed-system-messages",{}),_=(0,y.useMemo)(()=>()=>m(e=>{let t=o()(e);return n&&d()(t,[s,n],Date.now()),t}),[m,s,n]);return(0,y.useMemo)(()=>{if(!c||(0,i.cG)(c,!0)||"/download"===g||!n)return!1;let e=l()(h,[s,n]);return!e||"boolean"==typeof e||!!a&&Date.now()-e>=36e5*a},[c,n,s,h,a,g])?{currentSystemMessageId:n,currentSystemMessageTitle:t,currentSystemMessageContent:r,dismissCurrentSystemMessage:_}:{currentSystemMessageId:null,currentSystemMessageTitle:null,currentSystemMessageContent:null,dismissCurrentSystemMessage:()=>null}}},18013:function(e,n,t){t.d(n,{A:function(){return i},R:function(){return u}});var r=t(77879);function i(e,n){return(0,r.Xs)("SSS-".concat(e),n,{serializer:JSON.stringify,deserializer:JSON.parse})}function u(e,n){return(0,r._)("LSS-".concat(e),n,{serializer:JSON.stringify,deserializer:JSON.parse})}},32737:function(e,n,t){t.d(n,{u:function(){return y}});var r=t(41596),i=t(27573),u=t(9788),a=t(85638),o=t(10607),c=t(68425);function l(){let e=(0,r._)(["\n  px-2\n  py-1\n  text-xs\n  font-medium\n  font-sans\n  leading-tight\n  rounded-md\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return l=function(){return e},e}function s(){let e=(0,r._)(["\n  max-w-[337px]\n  z-tooltip\n  [*:disabled_&]:hidden\n"]);return s=function(){return e},e}function d(){let e=(0,r._)(["\n  p-1\n  text-xs\n  font-medium\n  font-sans\n  leading-tight\n  rounded-lg\n  shadow-md\n  text-white\n  bg-black/80\n  backdrop-blur\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return d=function(){return e},e}function f(){let e=(0,r._)(["\n  p-1\n  text-sm\n  font-normal\n  font-styrene\n  leading-tight\n  border-border-300\n  border-0.5\n  rounded-lg\n  shadow-diffused \n  shadow-[hsl(var(--always-black)/4%)]\n  text-text-100\n  bg-bg-100\n  break-words\n  z-tooltip\n  max-w-[13rem]\n  [*:disabled_&]:hidden\n"]);return f=function(){return e},e}function y(e){let{children:n,tooltipContent:t,contentStyle:r="default",side:u="top",sideOffset:c,align:l,className:s,delayDuration:d=200,...f}=e,y=p[r];return(0,i.jsx)(a.zt,{delayDuration:d,children:(0,i.jsxs)(a.fC,{...f,children:[(0,i.jsx)(a.xz,{asChild:!0,children:n}),(0,i.jsx)(a.h_,{children:(0,i.jsx)("span",{children:(0,i.jsx)(y,{className:(0,o.Z)(s,!t&&"hidden"),sideOffset:null!=c?c:5,side:u,align:l,children:t})})})]})})}let g=(0,u.q)(a.VY)(l()),v=(0,u.q)(a.VY)(s()),p={default:g,citation:e=>{let{children:n,...t}=e;return(0,i.jsx)(v,{...t,children:(0,i.jsx)(c.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},className:"p-1 text-sm font-normal font-styrene leading-tight text-text-200 bg-bg-100 break-words border-0.5 border-border-300/25 max-h-[300px] shadow-diffused shadow-[hsl(var(--always-black)/4%)] rounded-lg overflow-y-auto",children:n})})},inputMenu:(0,u.q)(a.VY)(d()),sampleImage:(0,u.q)(a.VY)(f())}},35228:function(e,n,t){t.d(n,{D_:function(){return a},c6:function(){return i},cG:function(){return o},kK:function(){return u},wJ:function(){return r}});let r=e=>{let{account:n,isClaudeDot:t}=e;return t?!1===n.settings.has_finished_claudeai_onboarding:!n.full_name||!n.display_name},i=(e,n)=>n&&!e.is_verified,u=(e,n)=>!!function(e,n){for(let t of e.invites)if(t.organization.capabilities&&t.organization.capabilities.includes(n))return t}(e,n?"raven":"api"),a=(e,n)=>!n&&0===e.invites.length&&0===e.memberships.filter(e=>e.organization.capabilities.includes("api")).length,o=(e,n)=>r({account:e,isClaudeDot:n})||i(e,n)||u(e,n)||a(e,n)},10228:function(e,n,t){var r,i,u,a;t.d(n,{Fg:function(){return r},co:function(){return i},hP:function(){return o},qC:function(){return c}}),(u=r||(r={})).GITHUB="github",u.GDRIVE="gdrive",u.OUTLINE="outlin",u.SALESFORCE="sfdc",u.GMAIL="gmail",u.GCAL="gcal",u.SLACK="slack",u.ASANA="asana";let o={github:"GitHub",gdrive:"Google Drive",outlin:"Outline",sfdc:"Salesforce",gmail:"Gmail",gcal:"Google Calendar",slack:"Slack",asana:"Asana"};(a=i||(i={})).CREATED="created",a.PENDING="pending",a.FAILED="failed",a.UPDATING="updating",a.UPDATE_FAILED="update_failed",a.READY="ready",a.UNAUTHENTICATED="unauthenticated",a.ACCESS_DENIED="access_denied",a.DISABLED="disabled";let c=["access_denied","failed","unauthenticated","update_failed"]}}]);